(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(58)},34:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(23),o=a.n(l),s=(a(34),a(35),a(24)),i=a(8),c=a(9),u=a(12),d=a(10),m=a(13),h=a(60),f=a(61),v=a(62),p=a(63),y=a(64),g=a(65),b=a(15),E=a.n(b),k=a(59),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderData",value:function(){return this.props.winners.map(function(e){var t=e.winner,a=e.date,n=e.id;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,t),r.a.createElement("td",null,a))})}},{key:"render",value:function(){return console.log(this.props.winners),r.a.createElement("div",{className:"dataTable"},r.a.createElement("h2",null,"Leader Board"),r.a.createElement(k.a,{bordered:!0},r.a.createElement("tbody",null,this.renderData())))}}]),t}(n.Component),S=a(27),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).timer=function(){var e=a.state,t=e.squares,n=e.computerScores,r=e.userScores,l=e.clicked,o=e.highlight,s=a.props,i=s.field,c=s.userName,u=s.onShowMessage,d=(i*i/2).toFixed(),m=t[Math.floor(Math.random()*t.length)],h=function(e,t){clearInterval(a.intervalId),a.myRef[o].style.backgroundColor=t,u("".concat(e," won"))};if(n>=d)h("Computer","red");else if(r>=d)h(c,"green");else{a.myRef[m].style.backgroundColor="blue";for(var f=0;f<t.length;f++)t[f]===m&&t.splice(f,1);a.setState({highlight:m,squares:t,clicked:!1}),l||(a.setState({computerScores:n+1}),void 0!==o&&(a.myRef[o].style.backgroundColor="red"))}},a.myRef=[],a.state={squares:Array.from(Array(e.field*e.field),function(e,t){return t}),userScores:0,computerScores:0,highlight:void 0,clicked:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.intervalId=setInterval(this.timer,e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.start,n=t.delay,r=t.field;if(a&&a!==e.start){this.intervalId=setInterval(this.timer,n),this.setState({squares:Array.from(Array(r*r),function(e,t){return t}),computerScores:0,userScores:0,highlight:void 0});for(var l=0;l<r*r;l++)this.myRef[l].style.backgroundColor="white"}}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"handleClick",value:function(e){var t=this.state,a=t.userScores;e===t.highlight&&(this.myRef[e].style.backgroundColor="green",this.setState({userScores:a+1,clicked:!0}))}},{key:"renderSquares",value:function(e){var t=this;return Object(S.a)(Array(e*e)).map(function(a,n){return r.a.createElement("div",{className:"game-cell",key:n,style:{flexBasis:"".concat(100/e,"%")},ref:function(e){return t.myRef[n]=e,!0},onClick:function(){return t.handleClick(n)}},r.a.createElement("div",{className:"game-item"}))})}},{key:"render",value:function(){var e=this.props.field;return r.a.createElement("div",{className:"game-container",style:{maxWidth:"".concat(5===e?"320px":10===e?"480px":"640px")}},this.renderSquares(e))}}]),t}(n.Component),j=(a(57),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userName:"",selectMode:"",message:"",buttonText:"Play",winners:[],field:void 0,delay:void 0,start:!1,disabled:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(s.a)({},n,r))},a.showMessage=function(e){a.setState({message:e,buttonText:"Play Again",start:!1,disabled:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://starnavi-frontend-test-task.herokuapp.com/winners",{credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"}}).then(function(t){var a=t.data;e.setState({winners:a})}),E.a.get("https://starnavi-frontend-test-task.herokuapp.com/game-settings",{crossdomain:!0,headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){var t=e.data;console.log("settings",t)})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.userName,n=t.selectMode;if(""!==a&&""!==n){var r={easyMode:{field:5,delay:2e3},normalMode:{field:10,delay:1e3},hardMode:{field:15,delay:500}};for(var l in r)if(l===n){var o=r[l],s=o.field,i=o.delay;this.setState({field:s,delay:i,start:!0,disabled:!0,message:""})}}}},{key:"render",value:function(){var e=this,t=this.state,a=t.winners,n=t.message,l=t.field,o=t.delay,s=t.userName,i=t.start,c=t.buttonText,u=t.disabled;return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,null,r.a.createElement(f.a,{onSubmit:function(t){return e.onSubmit(t)},className:"mainForm"},r.a.createElement(v.a,{form:!0},r.a.createElement(p.a,{md:5,className:"mb-2"},r.a.createElement(y.a,{type:"select",name:"selectMode",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:""},"Pick game mode"),r.a.createElement("option",{value:"easyMode"},"Easy"),r.a.createElement("option",{value:"normalMode"},"Normal"),r.a.createElement("option",{value:"hardMode"},"Hard"))),r.a.createElement(p.a,{md:5,className:"mb-2"},r.a.createElement(y.a,{type:"text",name:"userName",value:s,placeholder:"Enter your name",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(p.a,{md:2},r.a.createElement(g.a,{disabled:u},c)))),r.a.createElement(v.a,null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"message"},n.length?r.a.createElement("h3",null,n):null))),r.a.createElement(v.a,null,r.a.createElement(p.a,null,void 0!==l||void 0!==o?r.a.createElement(C,{field:l,delay:o,userName:s,onShowMessage:this.showMessage,start:i}):null)),r.a.createElement(v.a,null,r.a.createElement(p.a,null,r.a.createElement(w,{winners:a})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.6a49125a.chunk.js.map